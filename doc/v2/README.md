# VERGE2 Command-Line Tools

## v2chr2gif

**Support:** VERGE2 only (WxH, N tiles)

Usage:

- `node src/cli/v2chr2gif.js data/v1/VERGE.PAL data/v2/VECNA.CHR`

Output:

- `data/v2/VECNA.CHR-down.gif`
- `data/v2/VECNA.CHR-up.gif`
- `data/v2/VECNA.CHR-right.gif`
- `data/v2/VECNA.CHR-left.gif`

![alt text](/img/v2/VECNA.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/VECNA.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/VECNA.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/VECNA.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CHRIS.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CHRIS.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CHRIS.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CHRIS.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CLAUDIUS.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CLAUDIUS.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CLAUDIUS.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/CLAUDIUS.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/ELGARD.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/ELGARD.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/ELGARD.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/ELGARD.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")

![alt text](/img/v2/DESMAN1.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN1.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN1.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN1.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN2.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN2.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN2.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESMAN2.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM1.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM1.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM1.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM1.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM2.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM2.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM2.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/DESWOM2.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")

![alt text](/img/v2/EMIRA.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/EMIRA.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/EMIRA.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/EMIRA.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/FALIAN.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/FALIAN.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/FALIAN.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/FALIAN.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/JITORO.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/JITORO.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/JITORO.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/JITORO.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/LEPER.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/LEPER.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/LEPER.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/LEPER.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")

![alt text](/img/v2/P2DORVAN.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2DORVAN.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2DORVAN.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2DORVAN.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2FEM.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2FEM.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2FEM.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2FEM.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2PEON.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2PEON.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2PEON.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2PEON.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2THARN.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2THARN.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2THARN.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/P2THARN.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")

![alt text](/img/v2/SEREN.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SEREN.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SEREN.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SEREN.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SHIVARA.CHR-down.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SHIVARA.CHR-up.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SHIVARA.CHR-right.gif?raw=true "a sample of v2chr2gif cli output")
![alt text](/img/v2/SHIVARA.CHR-left.gif?raw=true "a sample of v2chr2gif cli output")

## v2chr2json

**Support:** VERGE2 only

Usage:

- `node src/cli/v2chr2json.js data/v1/VERGE.PAL data/v2/VECNA.CHR`

Output:

- `data/v2/VECNA.CHR.json`

```json

{
  "version": 2,
  "frameWidth": 16,
  "frameHeight": 32,
  "hotSpotX": 0,
  "hotSpotY": 16,
  "hotSpotWidth": 16,
  "hotSpotHeight": 16,
  "totalframes": 30,
  "imagedata": {
    "bufsize": 12494,
    "compressed": [255, 5, 0, ...],
    "decompressed": [0, 0, 0, ...]
  }
  "lidle": 15,
  "ridle": 10,
  "uidle": 5,
  "didle": 0,
  "lanimLength": 49,
  "lanim": "F16W10F17W10F16W10F15W10F18W10F19W10F18W10F15W10",
  "ranimLength": 49,
  "ranim": "F11W10F12W10F11W10F10W10F13W10F14W10F13W10F10W10",
  "uanimLength": 41,
  "uanim": "F6W10F7W10F6W10F5W10F8W10F9W10F8W10F5W10",
  "danimLength": 41,
  "danim": "F1W10F2W10F1W10F0W10F3W10F4W10F3W10F0W10",
  "palette": [0, 0, 0, 3, 3, 3, 7, 7, 7, ...]
}
```

## v2chr2png

See `v2vsp2pal` for details on how to generate `VERGE.PAL`.

**Support:** VERGE2 only (WxH, N tiles, 5 columns)

Usage:

- `node src/cli/v2chr2png.js data/v1/VERGE.PAL data/v2/VECNA.CHR`

Output:

- `data/v2/VECNA.CHR.png`

![alt text](/img/VECNA.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/SHIVARA.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/SEREN.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/LEPER.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/JITORO.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/EMIRA.CHR.png?raw=true "a sample of v2chr2png cli output")
![alt text](/img/ELGARD.CHR.png?raw=true "a sample of v2chr2png cli output")

## v2chr2pnglist

See `v2vsp2pal` for details on how to generate `VERGE.PAL`.

**Support:** VERGE2 only (WxH, N tiles, 5 columns)

Usage:

- `node src/cli/v2chr2pnglist.js data/v1/VERGE.PAL data/v2/VECNA.CHR`

Output:

- `data/v2/VECNA.CHR-0.png` .. `data/v2/VECNA.CHR-` (N - 1) `.png`

![alt text](/img/v2/VECNA.CHR-0.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-1.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-2.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-3.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-4.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-5.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-6.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-7.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-8.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-9.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-10.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-11.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-12.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-13.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-14.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-15.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-16.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-17.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-18.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-19.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-20.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-21.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-22.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-23.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-24.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-25.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-26.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-27.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-28.png?raw=true "a sample of v2chr2pnglist cli output")
![alt text](/img/v2/VECNA.CHR-29.png?raw=true "a sample of v2chr2pnglist cli output")

## v2map2json

**Support:** VERGE2 only

Usage:

- `node src/cli/v2map2json.js data/v2/town.map`

Output:

- `data/v2/town.map.json`

**Note:** Output here is abbreviated and pretty-printed for readability.

```json
{
  "version": [77, 65, 80, 249, 53, 0],
  "mapEventsOffset": 23233,
  "vspFilename": "grue0041.vsp",
  "musicFilename": "",
  "renderString": "1E2",
  "startX": 1,
  "startY": 1,
  "wrap": 0,
  "padding": [77, 65, 80, ...],
  "layerCount": 2,
  "layer": [{
    "pmultx": 1,
    "pdivx": 1,
    "pmulty": 1,
    "pdivy": 1,
    "sizex": 200,
    "sizey": 200,
    "trans": 0,
    "hline": 0,
    "padding": [1, 1]
  }, ...],
  "layers": [{
    "bufsize": 14272,
    "compressed": [255, 255, 0, ...],
    "decompressed": [0, 0, 0, ...],
  }, ...],
  "obstruct": {
    "bufsize": 1472,
    "compressed": [255, 254, 0, ...],
    "decompressed": [0, 0, 0, ...]
  },
  "zone": {
    "bufsize": 1130,
    "compressed": [255, 254, 0, ...],
    "decompressed": [0, 0, 0, ...]
  },
  "zoneCount": 25,
  "zones": [{
    "name": "",
    "script": 0,
    "percent": 0,
    "delay": 0,
    "aaa": 0,
    "entityscript": 0
  }, ...],
  "characterFilenameCount": 5,
  "characterFilenames": [
    "DESMAN1.CHR",
    "DESMAN2.CHR",
    "DESWOM1.CHR",
    "deswom2.chr",
    "LEPER.CHR"
  ],
  "entities": 34,
  "entity": [{
    "x": 37,
    "y": 48,
    "tx": 0,
    "ty": 0,
    "facing": 0,
    "moving": 0,
    "movcnt": 0,
    "frame": 0,
    "specframe": 0,
    "chrindex": 0,
    "reset": 0,
    "obsmode1": 1,
    "obsmode2": 1,
    "speed": 0,
    "speedct": 0,
    "delayct": 0,
    "animofs": 0,
    "scriptofs": 0,
    "face": 1,
    "actm": 0,
    "movecode": 2,
    "movescript": 0,
    "ctr": 0,
    "mode": 0,
    "modePadding": [1, 0],
    "step": 100,
    "delay": 0,
    "stepctr": 0,
    "delayctr": 0,
    "data1": 0,
    "data2": 0,
    "data3": 0,
    "data4": 0,
    "data5": 0,
    "data6": 0,
    "actscript": 25,
    "expand1": 0,
    "expand2": 0,
    "expand3": 0,
    "expand4": 0,
    "desc": ""
  }, ...],
  "movementScriptCount": 2,
  "movementScriptBufferSize": 14,
  "movementScriptOffsets": [0, 1],
  "movementScriptBuffer": [0, 68, 52, ...],
  "thingCount": 0,
  "scriptCount": 58,
  "scriptOffsets": [0, 4, 40, ...],
  "scriptBufferSize": 11044,
  "scriptBuffer": [3, 233, 1, ...]
}
```

## v2vsp2pal

This is a helper for `v2chr2png`.

Usage:

- `node src/cli/v2vsp2pal.js data/v2/GRUE0041.VSP`

Output:

- `VERGE.PAL`

## v2vsp2png

**Support:** VERGE2 only (16x16, N tiles, 20 columns)

Usage:

- `node src/cli/v2vsp2png.js data/v2/RUINS.VSP`

Output:

- `data/v2/RUINS.VSP.png`

![alt text](/img/RUINS.VSP.png?raw=true "a sample of v2vsp2png cli output")
![alt text](/img/SULLY2A.VSP.png?raw=true "a sample of v2vsp2png cli output")

